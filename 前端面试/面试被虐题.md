# 面试被虐题
## 写一个promise
Promise实际上是一个异步操作的结果，在pending和fulfill以及reject之间切换，但是一旦完成或着被拒绝了，他的状态就不会再改变了。

想要写一个Promise，肯定得使用一个异步的函数，就拿setTimeout来做。

```javascript
var p = new Promise(function(resolve){
    setTimeout(resolve, 100);
});
p.then(function(){console.log('success')},function(){console.log('fail')});
```

上面是个最简单的使用场景我们需要慢慢来构建

```javascript
function Promise(fn){
  //需要一个成功时的回调
  var fulfillCallback;
  //一个实例的方法，用来注册异步事件
  this.then = function(done){
    fulfillCallback = done;
  }
  function resolve(){
    fulfillCallback();
  }
  fn(resolve);
}
```
