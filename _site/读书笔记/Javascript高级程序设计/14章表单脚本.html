<!DOCTYPE html>
<html lang="en-us">
  <head>
  <meta charset="UTF-8">
  <title>前端技术</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <link rel="stylesheet" href="/Front-end-learning/css/normalize.css">
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="/Front-end-learning/css/cayman.css">
  <link rel="stylesheet" href="/Front-end-learning/css/font-awesome.min.css">
  <link rel="stylesheet" href="/Front-end-learning/css/highlight.css">
</head>

  <body>
    <section class="page-header">
  <h1 class="project-name"><a href="/Front-end-learning/README">前端技术</a></h1>
  <h2 class="project-tagline">逸飞的前端打怪日常，主要是javascript</h2>
  <a href="https://github.com/panyifei/Front-end-learning" class="btn">View on GitHub</a>
  <a href="https://github.com/panyifei/Front-end-learning/archive/master.zip" class="btn">Download .zip</a>
  <!-- <a href="#" class="btn">Download .tar.gz</a> -->
</section>

    <section class="main-content">
      <h1>14章表单脚本</h1>

<h2>input</h2>

<h3>剪切板事件</h3>

<p>对于剪切板事件，浏览器之间的争议比较大，before copy，beforecut，beforepaste可以让我们在copy等操作之前传递或者修改数据，但是取消他们，并不能取消copy等事件。</p>

<h3>输入框约束API</h3>

<p><code>required</code>：</p>

<p>对于这个的约束,一般情况下浏览器都是会阻止表单的提交的，但是各个的处理还是有不同，有的会有提示框，有的则没有。而且本身作为html5的属性，实现的情况也不能保证，可以</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">ifRequireSupported</span> <span class="o">=</span> <span class="s1">&#39;required&#39;</span> <span class="k">in</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;input&#39;</span><span class="p">);</span>
</code></pre></div>
<p>用这种属性检测来查看书否支持。</p>

<h3>其他的类型</h3>

<p>HTML5又为<code>type</code>增加了一些值，包括email，url，number,range,date等等。number的时候还可以设置max和min，还有step来设置间距。支持情况也就那样。包括patterns。</p>

<h3>检测有效性</h3>

<p><code>checkValidity</code>这个方法可以检测是否有效，包括了前面介绍的那些约束。</p>

<ul>
<li>这个方法可以对单个的表单元素调用，也可以对整个form表单使用，只要其中一个字段无效的话，整个的方法会返回false。</li>
</ul>

<p><code>validity</code>属性里面有一系列的属性可以告诉为什么会有效或者无效。包括了各个程度的检验。</p>

<p>form可以使用<code>novalidate</code>属性不进行验证。与之对应的还有个<code>formnovalidate</code>在input使用，可以限制在这个按钮不进行验证。</p>

<h3>其他新属性</h3>

<p><code>autocomplete</code>属性为表单自动填写，就是浏览器自动记录上次填写的内容，然后自动完成输入，可以对form以及input等等来使用。</p>

<h2>select</h2>

<p>通过<code>select</code>和<code>option</code>来实现</p>

<h3>属性</h3>

<p><code>selectedIndex</code>是保存了选中项的索引，如果有多选的的话，就保留第一个。</p>

<p><code>multiple</code>可以设置是否可以多选，但是这个的多选Mac下得按住command再选，win下需要ctrl然后再选。所以建议使用checkbox来选这个</p>

<p>option里面如果设置了value，那么值就是value，如果没有设置的话，就是option里面的text，ie8下会返回空字符串。</p>

<h3>方法以及事件</h3>

<p><code>add</code>方法给控件插入新的option属性,这个是立刻动态添加的，与之对应的是<code>remove</code>，用来删除。</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">    <span class="nx">selectBox</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">Option</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">,</span><span class="s1">&#39;value&#39;</span><span class="p">));</span>
</code></pre></div>
<p>注意他的change方法是只要选中了选项就会触发。而其他的表单字段则是在值被修改并且焦点离开当前字段时才触发。</p>

<h2>富文本编辑</h2>

<p>以前的富文本编辑就是一个iframe，然后在页面onload之后设置iframe的document的designMode为on，就可以编辑了。</p>

<p>现在就是使用<code>contentEditable</code>这个属性了，把元素变得像textarea一样。</p>

<h3>操作富文本</h3>

<p>document.execCommand方法，可以来将富文本进行操作，比如加粗等等，但是实际使用的可能性不大，因为各个浏览器的支持情况不好。
这里的实用性太差，就没怎么看细节，只是知道这个就好了。</p>

<p>todo:14章末尾的操作富文本方法基本没啥用到的地方，先不看
    15章canvas画图
    16章HTML5脚本编程
    可用性都一般，先pass了
    18章19章都是将的xml，感觉价值不大啊</p>

      <div id="disqus_thread"></div>
<script>
  (function() { // DON'T EDIT BELOW THIS LINE
  var d = document, s = d.createElement('script');
  s.src = '//panyifei.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
<script id="dsq-count-scr" src="//panyifei.disqus.com/count.js" async></script>

      <!-- <footer class="site-footer">
  <span class="site-footer-owner"><a href="">前端技术</a> is maintained by <a href="https://github.com/panyifei">逸飞</a>.</span>
</footer> -->

<footer>
	<div class="span-inline">
		
			<span>
				<a target="_blank" href="https://github.com/panyifei">
					<span class="fa-stack fa-lg">
						<i class="fa fa-circle fa-stack-2x"></i>
						<i class="fa fa-github fa-stack-1x fa-inverse"></i>
					</span>
				</a>
			</span>
		
		
			<span>
				<a target="_blank" href="https://www.zhihu.com/people/pan-yi-fei-41">
					<span class="fa-stack fa-lg">
						<i class="fa fa-circle fa-stack-2x"></i>
						<i class="fa  fa-stack-1x fa-inverse">知</i>
					</span>
				</a>
			</span>
		
		
			<span>
				<a target="_blank" href="http://www.jianshu.com/users/3b9067fb7edf">
					<span class="fa-stack fa-lg">
						<i class="fa fa-circle fa-stack-2x"></i>
						<i class="fa  fa-stack-1x fa-inverse">简</i>
					</span>
				</a>
			</span>
		
	</div>
	<p class="copyright">
		Copyright &copy; 前端技术 2016
		<br>
		Owned by <a href="https://github.com/panyifei">潘逸飞</a>
	</p>
</footer>

    </section>
  </body>
</html>
