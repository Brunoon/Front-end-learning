# 6章快速响应的用户界面
基本浏览器就是通过一个单线程来执行JS代码和更新的，所以当JS代码执行的时候，用户界面其实是属于锁定的状态的，所以管理好JS的运行时间很重要。

## 浏览器UI线程
就是一个简单的队列系统。一旦空闲，队列中的下一个任务就会被重新提取出来并运行。这些任务包括运行JS代码，还有UI的更新，包括重绘和重排。每一次输入可能会导致一个或者多个任务被加入队列。事实上，大多数浏览器在JS执行的时候回停止把新任务加入到UI线程中，JS代码必须尽快结束。

## 浏览器限制
浏览会限制JS运行,一个是调用栈的大小以及长时间运行脚本限制。(各个浏览器的长时间限制不同，IE是超过了500万条，ff是10秒，Safari是5秒，chrome是崩溃检测)

## 多长时间才算太久
事实上，我们应该控制在100ms以内，因为如果运行时间超过了100ms，用户就能够感受到。

## 使用定时器让出时间片段
有时我们已经尽力压缩过了，但是js还是运行了不止100ms，我们可以设置定时器来让出UI线程的控制权，然UI有机会更新。
