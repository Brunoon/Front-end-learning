# 7章Ajax
Ajax从最基本层面说，是一种与服务器建立通信而无需重载页面的方法，数据可以从服务器获取或发送给服务器。有很多种方法建立通信，各有各自的优点和限制。

## 请求数据的方式
 - XMLHttpRequest
 - 动态脚本注入
 - iframes
 - Comet
 - Multipart XHR

Comet和iframes作为数据传输技术往往用在极端情况下，这里就不讨论了。

XHR其实也什么好说的，毕竟现在的使用范围那么广，尽管是同域限制。注意post和get的区别，当我们经常请求某一个数据的时候，可以使用GET，因为get的请求会被缓存。当我们参数较长的时候，我们应该用Post来获得数据，因为IE限制URL长度，过长时会导致请求的URL被截断。

动态脚本注入的话，实际上就是JSONP，解决跨域的较好的方法。但是只能使用get请求，并不能使用post，关于跨域的问题我会重新整理一遍。

MXHR其实和XHR非常类似，也是同样的请求，不过是将一些静态资源在后端进行base64位的编码，然后通过一个请求传到前端，然后我们可以在readyState等于3的时候看下传到的资源，不过这件事情的价值不大..首先是我们可以直接base64放在文档里面，其次每个图片的base64里面都有一些部分是申明的会被浪费，雪碧图说不定效果还更好一些，而且最大的问题，这些资源不能被浏览器缓存。

## 发送数据
我们通过get和post方法都是可以发送数据，GET会更快一些，一个GET请求只发送一个数据包，而一个POST请求，至少要发送两个数据包(一个装载头信息，一个装POST正文。POST更适合发送大量数据，他不关心额外数据包的数量。另一个原因是IE对于URL长度有限制，GET会被限制。

  Beacons

这个技术我们非常类似于动态脚本注入，就是通过设置`img的src`来发送请求(而且并不用创建img元素或者将它插入DOM中，只需要new Image()就行了)。我们只能监听onload事件来看请求是否成功，或者监听this.width来根据服务器返回的图片的宽度来得到响应。其实这个东西使用过，用来监听一些网络状况比较好使，打点嘛

## 数据格式
### XML
AJAX最开始的时候，使用的是XML作为格式，因为通用性极佳，操作严格，易于验证
